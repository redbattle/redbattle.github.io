---
title: 移动端常见问题
date: 2021-09-25 18:45:35
permalink: /pages/b5bf9a/
categories:
  - fix
tags:
  - 前端
  - H5
  - 移动端
---

### 移动端常见问题

- 弹窗滚动穿透，出现弹窗的时候，底部还能滚动
  > 解决办法：出现弹窗的时候给 body 设置 overflow:hidden !important; 关闭弹窗的时候把这个样式去掉
- 首次加载 img 阻塞页面渲染
  > 解决办法：rem.js 在 onload 事件里加载，改为 DOMContentLoaded 事件加载
- 移动端返回顶部，再迅速滑动导致闪烁
  > 解决办法：html -> overflow: hidden; body -> overflow-y: auto;
- 点击有延迟
  > 解决办法：添加 fastclick
- 路由切换滚动条没有重置回顶部
```js
router.beforeEach((to, from, next) => {
  // 解决部分手机不兼容 scrollBehavior 配置
  document.body.scrollTo(0, 0);
  // 解决含有下拉刷新页面布局冲突问题
  if (to.meta.pullRefresh) {
    document.body.classList.add("van-overflow-hidden");
  } else {
    document.body.classList.remove("van-overflow-hidden");
  }
  next();
});
```
