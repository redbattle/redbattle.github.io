---
title: CSS特性
date: 2023-08-23 14:22:08
permalink: /pages/5ba4c2/
categories:
  - knowledge
tags:
  -
---

### 选择器

- :has() 选择器允许我们根据元素的后代或任何后续元素来确定其样式

  ```css
  /** 类名为 ‘post’ 下是否含有 a 或 span 标签，有则设置 ‘post’ 类所在标签的颜色为红色 */
  .post:has(a, span) {
    color: red;
  }

  <div class="post">
    666
    <a href="http://">text</a>
  </div>
  ```

  ```css
  /** 类名为 ‘post’ 是否含有 p 标签兄弟标签，有则设置 ‘post’ 类所在标签的颜色为红色 */
  .post:has(+ p) {
    color: red;
  }

  <div class="post">text1</div>
  <p>text2</p>
  ```

- :not() 元素

  ```css
  /** 标签中不含有类，则设置下划线样式 */
  :not([class]) {
    text-decoration-thickness: 2px; /** 下划线相对厚度 */
    text-underline-offset: 0.15em; /** 下划线偏移量 */
  }

  <a href="http://">text1</a>
  <a class="text" href="http://">text2</a>
  ```

- :is() 以选择器列表作为参数，不能选择伪元素，伪元素在:is()的选择器列表中无效

  ```css
  /** 标签中含有类名为 ‘text’，则设置颜色为红色 */
  :is([class="text"]) {
    color: red;
  }

  <a class="text" href="http://">text</a>
  ```

- :where()

  ```css
  /** 父标签为 p 的 span 标签鼠标悬浮为红色 */
  :where(p) span:hover {
    color: red;
    cursor: pointer;
  }

  <p>
    <span>text1</span>
    <i>text2</i>
  </p>
  ```

- 在 CSS 中，当使用选择器列表时，如果任何一个选择器无效，则整个列表将被视为无效。使用 :is() 或 :where() 时，如果一个选择器无法解析，整个选择器列表不会被视为无效，而是会忽略不正确或不支持的选择器，并使用其他的选择器。

  ```css
  /** 即使在不支持 :unsupported 的浏览器中，仍将正确解析 :valid */
  :is(:valid, :unsupported) {
    /* … */
  }

  /** 在不支持 :unsupported 浏览器中即使它们支持 :valid，仍将忽略 */
  :valid,
  :unsupported {
    /* … */
  }
  ```

- :focus-within

  ```css
  /** 当元素或其任意后代元素被聚焦时，将匹配该元素 */
  label:focus-within {
    font-weight: bold;
  }

  <label>name: <input name= "Name" type= "text" / ></label>;
  ```

- :empty

  ```css
  /** 选择没有子元素（包括文本节点）的元素。 */
  div{
    width: 100px;
    height: 100px;
    background-color: #0f0;
  }
  div:empty{
    background-color: #f00;
  }

  <div></div>
  <div>666</div>
  <div>
    <span></span>
  </div>
  ```

### 颜色

- 颜色函数 color-mix()

  ```css
  /** color-mix() 函数标记接收两个 <color> 值，并返回在指定颜色空间、指定数量混合后的颜色 */
  li:nth-child(1) {
    background-color: color-mix(in srgb, red, blue);
  }
  li:nth-child(2) {
    background-color: color-mix(in srgb, red 25%, blue);
  }

  <ul>
    <li></li>
    <li></li>
  </ul>
  ```

- 颜色定制 accent-color color-scheme

  ```css
  /** accent-color 自定义强调色，color-scheme 可设置“亮色”和“暗色”模式 */
  body{
    color-scheme: dark; /** dark light normal */
  }
  input {
    accent-color: auto;
    display: block;
    width: 30px;
    height: 30px;
  }
  input.custom {
    accent-color: red;
  }

  <input type="checkbox" checked />
  <input type="checkbox" class="custom" checked />
  ```

### 属性

- mix-blend-mode 元素背景混合 [属性值](https://developer.mozilla.org/zh-CN/docs/Web/CSS/blend-mode)

  ```css
  .post {
    position: relative;
    width: 200px;
    height: 200px;
  }
  .circle {
    position: absolute;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    mix-blend-mode: screen;
  }
  .red{
    background-color: red;
    left: 0;
    top: 0;
  }
  .green{
    background-color: green;
    left: 50px;
    top: 0;
  }
  .blue{
    background-color: blue;
    left: 25px;
    top: 50px;
  }

  <div class="post">
    <div class="circle red"></div>
    <div class="circle green"></div>
    <div class="circle blue"></div>
  </div>
  ```

- scroll-snap-align 属性将盒子的吸附位置指定为其吸附区域（作为对齐对象）在其吸附容器的吸附口（作为对齐容器）中的对齐方式。其两值分别指定了在块向轴盒行向轴上的吸附对齐方式。若仅指定一值，则第二值默认为同一值。
- scroll-snap-stop 定义了滚动容器是否可“越过”吸附位置
- scroll-snap-type 设置了在有滚动容器的情形下吸附至吸附点的严格程度。

### 函数

- min()/max()
  ```css
  /** 选择参数列表中较小/较大的值 */
  .post {
    width: min(10rem, 200px);
    height: max(10rem, 200px);
  }
  ```
- clamp() 一个值限制在一个上限和下限之间

  ```css
  /** clamp(最小值、首选值、最大值) */
  .post {
    width: clamp(10rem, 200px, 20rem);
  }
  ```

### 排版与布局

- CSS 字体

  ```css
  text-transform: capitalize; /** capitalize uppercase lowercase 元素的文本大小写 */
  ```

- CSS 文本 initial-letter

  ```css
  /** 实现首字下沉效果，只能运用于块容器首行首字上，还需要配合css的伪元素::first-letter一起使用 */
  div::first-letter {
    color: #bf4055;
    initial-letter: 3 3; /** 值1：表示的行高；值2：表示沉度。 */
  }

  <div>实现首字下沉效果，只能运用于块容器首行首字上，还需要配合css的伪元素::first-letter一起使用</div>
  ```

- CSS 自定义属性

  ```css
  /** 属性名需要以两个 -- 开头 */
  --color99: #f00;

  var(--color99);
  ```

- CSS 单位

  - vh：在 pc 浏览器上高度和浏览器视窗的高度一样，在手机浏览器上，原本的 vh 视窗单位并不会考虑浏览器工具栏、状态栏和地址栏所占的高度
    <img :src="$withBase('/images/20230908234201.jpeg')" />
  - vmin：选取 vw 和 vh 中最小的那个
  - vmax：选取 vw 和 vh 中最大的那个

- CSS 逻辑属性和逻辑值

  ```css
  direction: ltr /** 默认值，让文本和其他元素从左到右显示 或者在标签设置 dir 属性 */

  writing-mode /** 定义了文本水平或垂直排布以及在块级元素中文本的行进方向 */

  /** Y轴方向的属性为 block，X轴方向的属性为 inline */
  padding-block-start
  padding-inline-start

  margin-block-start
  margin-inline-start

  inset-block-start:0;  /*top - in English*/
  inset-block-end:0;    /*bottom - in English*/
  inset-inline-start:0; /*left - in English*/
  inset-inline-end:0;   /*right - in English*/
  inset:0 0 0 0;   /*top, right, bottom, left - in English*/

  text-align: start;
  float: inline-start;
  float: block-start;
  ```

### @ 规则

- @container 容器查询使我们能够根据父容器的大小来设置元素的样式。

  ```css
  .post {
    /*
      size 查询将基于容器的行向和块向尺度，将布局、样式和大小的限制应用于容器。
      inline-size 查询将基于容器的行向尺度，将布局、样式和行向大小的限制应用于元素。
      normal 该元素不是任何容器大小查询的查询容器，但仍然是容器样式查询的查询容器。
    */
    container-type: inline-size;
    container-name: sidebar; /** 创建一个名为 sidebar 的局限上下文 */
    /* 原生CSS支持嵌套 */
    .text2 {
      color: green;
    }
  }
  .text {
    background-color: blue;
  }
  @container sidebar (min-width: 500px) {
    .text {
      background-color: red;
    }
  }

  <div class="post">
    <div class="text">哈哈哈</div>
    <div class="text2">嵌套</div>
  </div>
  ```

- @support

  ```css
  /** 兼容性查询 */
  @supports (display: grid) {
    div {
      display: grid;
    }
  }
  ```

- @layer

  ```css
  @layer reset, ds, pages, overrides;
  @layer overrides {
    nav {
      background-color: black;
    }
  }
  @layer pages {
    body.home nav#main-navigation.top {
      background-color: blue;
    }
  }

  <body class="home">
    <nav id="main-navigation" class="top">
      666
    </nav>
  </body>
  ```

  <img :src="$withBase('/images/20230912201301.jpeg')" />

- @scope(chrome version 118)

  ```css
  /** .green 的样式只会作用在 .foo 里面，不会影响到外面的 .green */
  @scope (.foo) {
    .green { background-color: green; }
  }

  <div class="foo">
    <div class="green">这里是绿色</div>
  </div>
  <div class="green">不是绿色，因为没在 .foo 里面</div>

  /** @scope (<scope-start>) to (<scope-end>) 语法，.green 的样式只会作用在 .foo 里面，但是不会作用在 .limit 里面 */
  @scope (.foo) to (.limit) {
    .green { background-color: green; }
  }

  <div class="foo">
    <div class="green">这里是绿色</div>
    <div class="limit">
      <div class="green">不是绿色，在 .foo 里面，但是在 .limit 下面</div>
    </div>
  </div>
  <div class="green">不是绿色，因为没在 .foo 里面</div>
  ```

### 图形与过渡

- 渐变和旋转的角度单位 正数表示顺时针的角，负数表示逆时针的角
- deg 度 一个完整的圆是 360deg
- grad 百分度 一个完整的圆是 400grad
- rad 弧度 一个完整的圆是 2π 弧度，约等于 6.2832rad。1rad 是 180/π 度
- turn 圈数 一个完整的圆是 1turn

- transform 通过修改 CSS 视觉格式化模型的坐标空间来实现元素旋转、缩放、倾斜、平移

- CSS 宽高比

  ```css
  /** aspect-ratio */
  img {
    aspect-ratio: 16 / 9; /** width / height */
  }

  <img src="xxx.png" / >
  ```

  ```css

  /** 使用 position 和 padding */
  .box: {
    position: relative;
    padding-bottom: 56%;
    img: {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
    }
  }

  <div class="box">
    <img src="xxx.png" />
  </div>
  ```

- CSS 锥形渐变 conic-gradient

  ```css
  div{
    width: 100px;
    height: 100px;
    border: 1px solid;
    background: conic-gradient(red, orange, yellow, green, blue);
    background: conic-gradient(
     red 6deg, orange 6deg 18deg, yellow 18deg 45deg,
     green 45deg 110deg, blue 110deg 200deg, purple 200deg);
    background: conic-gradient(
        #fff 0.25turn,
        #000 0.25turn 0.5turn,
        #fff 0.5turn 0.75turn,
        #000 0.75turn
      ) top left / 25% 25% repeat;
  }

  <div></div>
  ```

- CSS 滤镜

  ```css
  /** filter 属性将模糊或颜色偏移等图形效果应用于元素 */
  div{
    width: 100px;
    height: 100px;
    filter: blur(5px);
    background-image: url();
  }

  <div></div>

  ```
  ```css
  /** backdrop-filter 属性可以让你为一个元素后面区域添加图形效果 */
  .post{
    width: 100px;
    height: 100px;
    background-image: url();
    background-size: contain;
  }
  .filter{
    backdrop-filter: blur(5px);
    height: 40px;
  }

  <div class="post">
    <div class="filter"></div>
  </div>

  ```
  ```css
  /**
    drop-shadow 可以让我们给一个元素添加阴影，这个阴影并不对应于它的边界框，，而是使用该元素的Alpha蒙版
    可以作用于文字、图片、形状不规则元素，参数与box-shadow一样
    filter: drop-shadow(0 0 25px red);
  */
  ```
  ```css

  /** background: inherit配合filter 可实现与背景相匹配的阴影 */
  .box {
    position: relative;
    width: 200px;
    height: 200px;
    background: #fff;
    border-radius: 35px;
    background-size: cover;
    background-image: url(./2.svg);
    margin: 30px;
  }
  .box::before {
    content: "";
    position: absolute;
    top: 20px;
    left: 0;
    width: 100%;
    height: 100%;
    background: inherit;
    border-radius: 35px;
    filter: blur(15px);
    background-size: cover;
    opacity: 0.5;
    z-index: -1;
  }
  .img {
    width: 100%;
    height: 100%;
    border-radius: 35px;
  }

  <div class="box"></div>
  ```

### 动画

- CSS animation-timeline [滚动驱动动画](https://juejin.cn/post/7259026189904805944)：默认情况下，动画是随着时间的流逝而播放的，CSS 滚动驱动动画指的是将动画的执行过程由页面滚动进行接管，也就是这种情况下，动画只会跟随页面滚动的变化而变化，也就是滚动多少，动画就执行多少，时间不再起作用。

  ```css
  .post{
    width: 400px;
    height: 400px;
    overflow: auto;
  }
  .box{
    width: 50%;
    height: 20%;
    background-color: red;
    animation: scroll1 linear both; /* animation-fill-mode 设置 CSS 动画在执行之前和之后如何将样式应用于其目标 */
    animation-timeline: view(block 40% 20%); /*  view(block 动画开始位置 动画结束位置) */
    /** animation-timeline: scroll(block); */
  }
  @keyframes scroll1 {
    from{
      transform: scaleX(0);
    }
    to{
      transform: scaleX(1);
    }
  }

  <div class="post">
    <p>
    AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。
    </p>
    <div class="box"></div>
    <p>
    AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。AOS 是一个用于在页面滚动的时候呈现元素动画的工具库，你可能会觉得它和 WOWJS 一样，的确他们效果是类似的。但是AOS是 CSS3 动画驱动的库，当你滚动页面的时候能让元素动起来，当页面滚回顶部的时候，元素能够回到前一个状态，如此达到循环动画的效果。
    <p>
  </div>
  ```

- CSS 路径动画

  ```css
  div {
    width: 60px;
    height: 60px;
    background: linear-gradient(#fc0, #f0c);
    /** offset-path 接收一个 SVG 路径（与 SVG 的path、CSS 中的 clip-path 类似），指定运动的几何路径 */
    offset-path: path("M 10 80 C 80 10, 130 10, 190 80 S 300 150, 360 80");
    animation: move 2000ms infinite alternate linear;
  }
  @keyframes move {
      0% {
          offset-distance: 0%;
      }
      100% {
          offset-distance: 100%;
      }
  }

  <div></div>
  ```

  <img :src="$withBase('/images/20230922215801.gif')" />
